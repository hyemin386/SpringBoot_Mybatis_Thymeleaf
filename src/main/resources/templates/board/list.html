<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="./fragments/default :: head(${board}+'List')">
<meta charset="UTF-8">
<title>Member Join</title>
</head>
<body>
	<div th:replace="./fragments/default :: header"></div>
	<div th:replace="./fragments/default :: jumbo"></div>

	<div class="container">
		<h2 th:text="${board}"></h2>

 		<!-- 검색 form -->
		<div class=" d-flex justify-content-start">
			<div class="input-group align-items-center">
				<form id="frm" th:action="@{list}" class="form-inline">
					<input type="hidden" name="curPage" value="1" id="curPage">
					<div class="input-group-prepend">
						<select class="form-control" name="kind" id="kind"
							th:value="${pager.kind}">
							<option class="sel" th:selected="${pager.kind}== 'Title'?true:false">Title</option>
							<option class="sel" th:selected="${pager.kind}=='Contents'?true:false">Contents</option>
							<option class="sel" th:selected="${pager.kind}=='Writer'?true:false">Writer</option>
						</select>
					</div>
					<input type="text" class="form-control" name="search" id="search" th:value="${pager.search}" placeholder="">
					<div class="input-group-append">
						<button class="btn btn-success" type="submit">Search</button>
					</div>
				</form>
			</div>
		</div>

		<table class="table">
			<thead class="thead-dark">
				<tr>
					<th scope="col">NUM</th>
					<th scope="col">TITLE</th>
					<th scope="col">WRITER</th>
					<th scope="col">DATE</th>
					<th scope="col">HIT</th>
					<!-- <th scope="col">INDEX</th>
					<th scope="col">COUNT</th>
					<th scope="col">SIZE</th>
					<th scope="col">EVEN</th>
					<th scope="col">ODD</th>
					<th scope="col">FIRST</th>
					<th scope="col">LAST</th>
					<th scope="col">CURRENT</th> -->
				</tr>
			</thead>
			<tbody>
				<tr th:each="vo, state : ${list}">
					<th scope="row" th:text="${vo.num}"></th>
					<!-- @{ |${board}select| } board의 종류별로 주소창이 바뀌게 쓰기-->
					<!-- parameter 전송 @{URL주소(파라미터명=값, 파라미터명2=값2 ...)} -->
					<td th:if="${board != 'notice'}">
						<!-- qna에서만 보임! -->
						<span th:if="${vo.depth != 0}" th:each="i : ${#numbers.sequence(1, vo.depth)}">--</span>
						<a href="#" th:href="@{select(num=${vo.num})}" th:text="${vo.title}">Mark</a>
					</td> <!-- td태그 안에 a가 들어가야함 -->			
					<td th:unless="${board != 'notice'}">
						<a href="#" th:href="@{select(num=${vo.num})}" th:text="${vo.title}">Mark</a>			
					</td>
					<td th:text="${vo.writer}">Otto</td>
					<td th:text="${vo.regDate}">@mdo</td>
					<td th:text="${vo.hit}"></td>
					<!-- <td th:text="${state.index}"></td> 인덱스 번호 0부터 시작
					<td th:text="${state.count}"></td> 횟수번호 1부터 시작
					<td th:text="${state.size}"></td> 총 개수
					<td th:text="${state.even}"></td> 현재 반복의 짝수 여부
					<td th:text="${state.odd}"></td> 현재 반복의 홀수 여부
					<td th:text="${state.first}"></td> 현재 반복이 첫번째인지 여부
					<td th:text="${state.last}"></td> 현재 반복이 마지막인지 여부
					<td th:text="${state.current}"></td> 현재 요소  -->
				</tr>
			</tbody>
		</table>
		<div th:if="${session.member != null}"> <!-- notice일때만 admin write 적용 -->
			<a href="#" class="btn btn-info" th:href="@{./fileDown}">FILE DOWN</a>
			<a href="#" class="btn btn-info" th:if="${board == 'notice' and session.member.userName == 'admin'}" th:href="@{./insert}">WRITE</a>
			<a href="#" class="btn btn-info" th:if="${board != 'notice'}" th:href="@{./insert}">WRITE</a>
		</div>
	</div>

	<div class="container d-flex justify-content-center">
		<ul class="pagination">
		   <!-- if문으로 작성시  -->
			<li th:if="${pager.pre}" class="page-item">
			<a class="page-link pager" href="#" th:title="${pager.startNum-1}">Previous</a></li>
			<li class="page-item" th:each="i : ${#numbers.sequence(pager.startNum, pager.lastNum)}">
			<a class="page-link pager" href="#" th:text="${i}" th:title="${i}">Previous</a></li>
			<li th:if="${pager.next}" class="page-item">
			<a class="page-link pager" href="#" th:title="${pager.lastNum+1}">Next</a></li> 
			
			<!-- if else문으로 작성시
			<li th:classappend="${pager.pre? 'disable':'active'}"  class="page-item">
		  	<a th:if="${pager.pre}" class="page-link pager" href="#" th:title="${pager.startNum-1}">Previous</a>
			<!-- unless -> else임 
			<span th:unless="${pager.pre}" class="page-link">Previous</span></li>
			<li class="page-item" th:each="i : ${#numbers.sequence(pager.startNum, pager.lastNum)}">
			<a class="page-link pager" href="#" th:text="${i}" th:title="${i}" >Previous</a></li>
		    <li th:if="${pager.next}" class="page-item">
		    <a class="page-link pager" href="#" th:title="${pager.lastNum+1}">Next</a></li>  -->
		</ul>
	</div>

	<footer th:replace="./fragments/default :: footer"></footer>
	
<script type="text/javascript" th:src="@{/js/boardSearch.js}"></script>
</body>
</html>